{"ast":null,"code":"/**\n * 3x2矩阵操作类\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * 设置矩阵为单位矩阵\n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * 复制矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * 矩阵相乘\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * 平移变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * 旋转变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * 缩放变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * 求逆矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/node_modules/zrender/lib/core/matrix.js"],"names":["ArrayCtor","Float32Array","Array","create","out","identity","copy","m","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","a","v","rotate","rad","aa","ac","atx","ab","ad","aty","st","Math","sin","ct","cos","scale","vx","vy","invert","det","clone","b","exports"],"mappings":"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","sourcesContent":["/**\n * 3x2矩阵操作类\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * 设置矩阵为单位矩阵\n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * 复制矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * 矩阵相乘\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * 平移变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * 旋转变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * 缩放变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * 求逆矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;"]},"metadata":{},"sourceType":"script"}