{"ast":null,"code":"import _toConsumableArray from \"/home/johnatan/MP/mp-app/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nexport var SET_USER_NAVIGATION = 'SET_USER_NAVIGATION';\n\nvar getfilteredNavigations = function getfilteredNavigations() {\n  var navList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var role = arguments.length > 1 ? arguments[1] : undefined;\n  return navList.reduce(function (array, nav) {\n    if (nav.auth) {\n      if (nav.auth.includes(role)) {\n        array.push(nav);\n      }\n    } else {\n      if (nav.children) {\n        nav.children = getfilteredNavigations(nav.children, role);\n        array.push(nav);\n      } else {\n        array.push(nav);\n      }\n    }\n\n    return array;\n  }, []);\n};\n\nexport function getNavigationByUser() {\n  return function (dispatch, getState) {\n    var _getState = getState(),\n        user = _getState.user,\n        _getState$navigations = _getState.navigations,\n        navigations = _getState$navigations === void 0 ? [] : _getState$navigations;\n\n    var filteredNavigations = getfilteredNavigations(navigations, user.role);\n    dispatch({\n      type: SET_USER_NAVIGATION,\n      payload: _toConsumableArray(filteredNavigations)\n    });\n  };\n}","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/src/app/redux/actions/NavigationAction.js"],"names":["SET_USER_NAVIGATION","getfilteredNavigations","navList","role","reduce","array","nav","auth","includes","push","children","getNavigationByUser","dispatch","getState","user","navigations","filteredNavigations","type","payload"],"mappings":";AAAA,OAAO,IAAMA,mBAAmB,GAAG,qBAA5B;;AAEP,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAwB;AAAA,MAAvBC,OAAuB,uEAAb,EAAa;AAAA,MAATC,IAAS;AACnD,SAAOD,OAAO,CAACE,MAAR,CAAe,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAClC,QAAIA,GAAG,CAACC,IAAR,EAAc;AACV,UAAID,GAAG,CAACC,IAAJ,CAASC,QAAT,CAAkBL,IAAlB,CAAJ,EAA6B;AACzBE,QAAAA,KAAK,CAACI,IAAN,CAAWH,GAAX;AACH;AACJ,KAJD,MAIO;AACH,UAAIA,GAAG,CAACI,QAAR,EAAkB;AACdJ,QAAAA,GAAG,CAACI,QAAJ,GAAeT,sBAAsB,CAACK,GAAG,CAACI,QAAL,EAAeP,IAAf,CAArC;AACAE,QAAAA,KAAK,CAACI,IAAN,CAAWH,GAAX;AACH,OAHD,MAGO;AACHD,QAAAA,KAAK,CAACI,IAAN,CAAWH,GAAX;AACH;AACJ;;AACD,WAAOD,KAAP;AACH,GAdM,EAcJ,EAdI,CAAP;AAeH,CAhBD;;AAkBA,OAAO,SAASM,mBAAT,GAA+B;AAClC,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC3B,oBAAiCA,QAAQ,EAAzC;AAAA,QAAMC,IAAN,aAAMA,IAAN;AAAA,0CAAYC,WAAZ;AAAA,QAAYA,WAAZ,sCAA0B,EAA1B;;AAEA,QAAIC,mBAAmB,GAAGf,sBAAsB,CAACc,WAAD,EAAcD,IAAI,CAACX,IAAnB,CAAhD;AAEAS,IAAAA,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAAEjB,mBADD;AAELkB,MAAAA,OAAO,qBAAMF,mBAAN;AAFF,KAAD,CAAR;AAIH,GATD;AAUH","sourcesContent":["export const SET_USER_NAVIGATION = 'SET_USER_NAVIGATION'\n\nconst getfilteredNavigations = (navList = [], role) => {\n    return navList.reduce((array, nav) => {\n        if (nav.auth) {\n            if (nav.auth.includes(role)) {\n                array.push(nav)\n            }\n        } else {\n            if (nav.children) {\n                nav.children = getfilteredNavigations(nav.children, role)\n                array.push(nav)\n            } else {\n                array.push(nav)\n            }\n        }\n        return array\n    }, [])\n}\n\nexport function getNavigationByUser() {\n    return (dispatch, getState) => {\n        let { user, navigations = [] } = getState()\n\n        let filteredNavigations = getfilteredNavigations(navigations, user.role)\n\n        dispatch({\n            type: SET_USER_NAVIGATION,\n            payload: [...filteredNavigations],\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}