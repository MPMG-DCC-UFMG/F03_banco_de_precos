{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"./Model\");\n\nvar componentUtil = require(\"../util/component\");\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassManagement = _clazz.enableClassManagement;\nvar parseClassType = _clazz.parseClassType;\n\nvar _model = require(\"../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar layout = require(\"../util/layout\");\n\nvar boxLayoutMixin = require(\"./mixin/boxLayout\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Component model\n *\n * @module echarts/model/Component\n */\n\n\nvar inner = makeInner();\n/**\n * @alias module:echarts/model/Component\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {module:echarts/model/Model} ecModel\n */\n\nvar ComponentModel = Model.extend({\n  type: 'component',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  id: '',\n\n  /**\n   * Because simplified concept is probably better, series.name (or component.name)\n   * has been having too many resposibilities:\n   * (1) Generating id (which requires name in option should not be modified).\n   * (2) As an index to mapping series when merging option or calling API (a name\n   * can refer to more then one components, which is convinient is some case).\n   * (3) Display.\n   * @readOnly\n   */\n  name: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  mainType: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  subType: '',\n\n  /**\n   * @readOnly\n   * @type {number}\n   */\n  componentIndex: 0,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n  ecModel: null,\n\n  /**\n   * key: componentType\n   * value:  Component model list, can not be null.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @readOnly\n   */\n  dependentModels: [],\n\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  uid: null,\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  $constructor: function $constructor(option, parentModel, ecModel, extraOpt) {\n    Model.call(this, option, parentModel, ecModel, extraOpt);\n    this.uid = componentUtil.getUID('ec_cpt_model');\n  },\n  init: function init(option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n  mergeDefaultAndTheme: function mergeDefaultAndTheme(option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function mergeOption(option, extraOpt) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  },\n  // Hooker after init or mergeOption\n  optionUpdated: function optionUpdated(newCptOption, isInit) {},\n  getDefaultOption: function getDefaultOption() {\n    var fields = inner(this);\n\n    if (!fields.defaultOption) {\n      var optList = [];\n      var Class = this.constructor;\n\n      while (Class) {\n        var opt = Class.prototype.defaultOption;\n        opt && optList.push(opt);\n        Class = Class.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      fields.defaultOption = defaultOption;\n    }\n\n    return fields.defaultOption;\n  },\n  getReferringComponents: function getReferringComponents(mainType) {\n    return this.ecModel.queryComponents({\n      mainType: mainType,\n      index: this.get(mainType + 'Index', true),\n      id: this.get(mainType + 'Id', true)\n    });\n  }\n}); // Reset ComponentModel.extend, add preConstruct.\n// clazzUtil.enableClassExtend(\n//     ComponentModel,\n//     function (option, parentModel, ecModel, extraOpt) {\n//         // Set dependentModels, componentIndex, name, id, mainType, subType.\n//         zrUtil.extend(this, extraOpt);\n//         this.uid = componentUtil.getUID('componentModel');\n//         // this.setReadOnly([\n//         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n//         //     'dependentModels', 'componentIndex'\n//         // ]);\n//     }\n// );\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nenableClassManagement(ComponentModel, {\n  registerWhenExtend: true\n});\ncomponentUtil.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n    deps = deps.concat(Clazz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n\n  return deps;\n}\n\nzrUtil.mixin(ComponentModel, boxLayoutMixin);\nvar _default = ComponentModel;\nmodule.exports = _default;","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/node_modules/echarts/lib/model/Component.js"],"names":["zrUtil","require","Model","componentUtil","_clazz","enableClassManagement","parseClassType","_model","makeInner","layout","boxLayoutMixin","inner","ComponentModel","extend","type","id","name","mainType","subType","componentIndex","defaultOption","ecModel","dependentModels","uid","layoutMode","$constructor","option","parentModel","extraOpt","call","getUID","init","mergeDefaultAndTheme","inputPositionParams","getLayoutParams","themeModel","getTheme","merge","get","getDefaultOption","mergeLayoutParam","mergeOption","optionUpdated","newCptOption","isInit","fields","optList","Class","constructor","opt","prototype","push","superClass","i","length","getReferringComponents","queryComponents","index","registerWhenExtend","enableSubTypeDefaulter","enableTopologicalTravel","getDependencies","componentType","deps","each","getClassesByMainType","Clazz","concat","dependencies","map","main","indexOf","unshift","mixin","_default","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"./Model\");\n\nvar componentUtil = require(\"../util/component\");\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassManagement = _clazz.enableClassManagement;\nvar parseClassType = _clazz.parseClassType;\n\nvar _model = require(\"../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar layout = require(\"../util/layout\");\n\nvar boxLayoutMixin = require(\"./mixin/boxLayout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Component model\n *\n * @module echarts/model/Component\n */\nvar inner = makeInner();\n/**\n * @alias module:echarts/model/Component\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {module:echarts/model/Model} ecModel\n */\n\nvar ComponentModel = Model.extend({\n  type: 'component',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  id: '',\n\n  /**\n   * Because simplified concept is probably better, series.name (or component.name)\n   * has been having too many resposibilities:\n   * (1) Generating id (which requires name in option should not be modified).\n   * (2) As an index to mapping series when merging option or calling API (a name\n   * can refer to more then one components, which is convinient is some case).\n   * (3) Display.\n   * @readOnly\n   */\n  name: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  mainType: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  subType: '',\n\n  /**\n   * @readOnly\n   * @type {number}\n   */\n  componentIndex: 0,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n  ecModel: null,\n\n  /**\n   * key: componentType\n   * value:  Component model list, can not be null.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @readOnly\n   */\n  dependentModels: [],\n\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  uid: null,\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  $constructor: function (option, parentModel, ecModel, extraOpt) {\n    Model.call(this, option, parentModel, ecModel, extraOpt);\n    this.uid = componentUtil.getUID('ec_cpt_model');\n  },\n  init: function (option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n  mergeDefaultAndTheme: function (option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function (option, extraOpt) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  },\n  // Hooker after init or mergeOption\n  optionUpdated: function (newCptOption, isInit) {},\n  getDefaultOption: function () {\n    var fields = inner(this);\n\n    if (!fields.defaultOption) {\n      var optList = [];\n      var Class = this.constructor;\n\n      while (Class) {\n        var opt = Class.prototype.defaultOption;\n        opt && optList.push(opt);\n        Class = Class.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      fields.defaultOption = defaultOption;\n    }\n\n    return fields.defaultOption;\n  },\n  getReferringComponents: function (mainType) {\n    return this.ecModel.queryComponents({\n      mainType: mainType,\n      index: this.get(mainType + 'Index', true),\n      id: this.get(mainType + 'Id', true)\n    });\n  }\n}); // Reset ComponentModel.extend, add preConstruct.\n// clazzUtil.enableClassExtend(\n//     ComponentModel,\n//     function (option, parentModel, ecModel, extraOpt) {\n//         // Set dependentModels, componentIndex, name, id, mainType, subType.\n//         zrUtil.extend(this, extraOpt);\n//         this.uid = componentUtil.getUID('componentModel');\n//         // this.setReadOnly([\n//         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n//         //     'dependentModels', 'componentIndex'\n//         // ]);\n//     }\n// );\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nenableClassManagement(ComponentModel, {\n  registerWhenExtend: true\n});\ncomponentUtil.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n    deps = deps.concat(Clazz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n\n  return deps;\n}\n\nzrUtil.mixin(ComponentModel, boxLayoutMixin);\nvar _default = ComponentModel;\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}