{"ast":null,"code":"import _defineProperty from \"/home/johnatan/MP/mp-app/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _createForOfIteratorHelper from \"/home/johnatan/MP/mp-app/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/home/johnatan/MP/mp-app/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/home/johnatan/MP/mp-app/ap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/home/johnatan/MP/mp-app/ap/src/app/components/MatxVerticalNav/MatxVerticalNavExpansionPanel.jsx\";\n\nvar _excluded = [\"palette\"];\nimport React, { useState, useRef, useCallback } from 'react';\nimport { Icon } from '@material-ui/core';\nimport TouchRipple from '@material-ui/core/ButtonBase';\nimport { useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useEffect } from 'react';\nimport clsx from 'clsx';\nvar useStyles = makeStyles(function (_ref) {\n  var palette = _ref.palette,\n      theme = _objectWithoutProperties(_ref, _excluded);\n\n  return {\n    expandIcon: {\n      transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n      transform: 'rotate(90deg)'\n    },\n    collapseIcon: {\n      transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n      transform: 'rotate(0deg)'\n    },\n    'expansion-panel': {\n      overflow: 'hidden',\n      transition: 'max-height 0.3s cubic-bezier(0, 0, 0.2, 1)'\n    },\n    highlight: {\n      background: palette.primary.main\n    },\n    navItem: {\n      // color: palette.type === \"dark\" ? palette.text.secondary : \"inherit\",\n      '&:hover': {\n        backgroundColor: palette.action.hover\n      }\n    },\n    compactNavItem: {\n      width: 44,\n      overflow: 'hidden',\n      justifyContent: 'center !important',\n      '& $itemText': {\n        display: 'none'\n      },\n      '& $itemIcon': {\n        display: 'none'\n      }\n    },\n    itemIcon: {},\n    itemText: {\n      fontSize: '0.875rem',\n      paddingLeft: '0.8rem'\n    },\n    bulletIcon: {\n      background: palette.text.secondary\n    }\n  };\n});\n\nvar MatxVerticalNavExpansionPanel = function MatxVerticalNavExpansionPanel(_ref2) {\n  var _clsx, _clsx2;\n\n  var item = _ref2.item,\n      children = _ref2.children,\n      mode = _ref2.mode;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      collapsed = _useState2[0],\n      setCollapsed = _useState2[1];\n\n  var classes = useStyles();\n  var elementRef = useRef(null);\n  var componentHeight = useRef(0);\n\n  var _useLocation = useLocation(),\n      pathname = _useLocation.pathname;\n\n  var name = item.name,\n      icon = item.icon,\n      iconText = item.iconText,\n      badge = item.badge;\n\n  var handleClick = function handleClick() {\n    componentHeight.current = 0;\n    calcaulateHeight(elementRef.current);\n    setCollapsed(!collapsed);\n  };\n\n  var calcaulateHeight = useCallback(function (node) {\n    if (node.name !== 'child') {\n      var _iterator = _createForOfIteratorHelper(node.children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          calcaulateHeight(child);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    if (node.name === 'child') componentHeight.current += node.scrollHeight;else componentHeight.current += 44; //here 44 is node height\n\n    return;\n  }, []);\n  useEffect(function () {\n    if (!elementRef) return;\n    calcaulateHeight(elementRef.current); // OPEN DROPDOWN IF CHILD IS ACTIVE\n\n    var _iterator2 = _createForOfIteratorHelper(elementRef.current.children),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var child = _step2.value;\n\n        if (child.getAttribute('href') === pathname) {\n          setCollapsed(false);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }, [pathname, calcaulateHeight]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TouchRipple, {\n    className: clsx((_clsx = {\n      'flex justify-between h-44 border-radius-4 mb-2 w-full pr-4 has-submenu compactNavItem whitespace-pre overflow-hidden': true\n    }, _defineProperty(_clsx, classes.navItem, true), _defineProperty(_clsx, classes.compactNavItem, mode === 'compact'), _defineProperty(_clsx, \"open\", !collapsed), _clsx)),\n    onClick: handleClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, icon && /*#__PURE__*/React.createElement(Icon, {\n    className: \"align-middle text-18 w-36 px-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, icon), iconText && /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx('w-4 h-4 rounded bg-white ml-5 mr-2', classes.bulletIcon),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx('align-middle sidenavHoverShow', classes.itemText),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, name)), badge && /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"rounded bg-\".concat(item.badge.color, \" px-1 py-1px\"), 'sidenavHoverShow', classes.itemIcon),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, badge.value), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx((_clsx2 = {\n      'item-arrow sidenavHoverShow': false\n    }, _defineProperty(_clsx2, classes.itemIcon, false), _defineProperty(_clsx2, classes.collapseIcon, collapsed), _defineProperty(_clsx2, classes.expandIcon, !collapsed), _clsx2)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    fontSize: \"small\",\n    className: \"align-middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"chevron_right\"))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: elementRef,\n    className: clsx(classes['expansion-panel'], 'submenu'),\n    style: collapsed ? {\n      maxHeight: '0px'\n    } : {\n      maxHeight: componentHeight.current + 'px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, children));\n};\n\nexport default MatxVerticalNavExpansionPanel;","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/src/app/components/MatxVerticalNav/MatxVerticalNavExpansionPanel.jsx"],"names":["React","useState","useRef","useCallback","Icon","TouchRipple","useLocation","makeStyles","useEffect","clsx","useStyles","palette","theme","expandIcon","transition","transform","collapseIcon","overflow","highlight","background","primary","main","navItem","backgroundColor","action","hover","compactNavItem","width","justifyContent","display","itemIcon","itemText","fontSize","paddingLeft","bulletIcon","text","secondary","MatxVerticalNavExpansionPanel","item","children","mode","collapsed","setCollapsed","classes","elementRef","componentHeight","pathname","name","icon","iconText","badge","handleClick","current","calcaulateHeight","node","child","scrollHeight","getAttribute","color","value","maxHeight"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\nimport { Icon } from '@material-ui/core'\nimport TouchRipple from '@material-ui/core/ButtonBase'\nimport { useLocation } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useEffect } from 'react'\nimport clsx from 'clsx'\n\nconst useStyles = makeStyles(({ palette, ...theme }) => ({\n    expandIcon: {\n        transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n        transform: 'rotate(90deg)',\n    },\n    collapseIcon: {\n        transition: 'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',\n        transform: 'rotate(0deg)',\n    },\n    'expansion-panel': {\n        overflow: 'hidden',\n        transition: 'max-height 0.3s cubic-bezier(0, 0, 0.2, 1)',\n    },\n    highlight: {\n        background: palette.primary.main,\n    },\n    navItem: {\n        // color: palette.type === \"dark\" ? palette.text.secondary : \"inherit\",\n        '&:hover': {\n            backgroundColor: palette.action.hover,\n        },\n    },\n    compactNavItem: {\n        width: 44,\n        overflow: 'hidden',\n        justifyContent: 'center !important',\n        '& $itemText': {\n            display: 'none',\n        },\n        '& $itemIcon': {\n            display: 'none',\n        },\n    },\n    itemIcon: {},\n    itemText: {\n        fontSize: '0.875rem',\n        paddingLeft: '0.8rem',\n    },\n    bulletIcon: {\n        background: palette.text.secondary,\n    },\n}))\n\nconst MatxVerticalNavExpansionPanel = ({ item, children, mode }) => {\n    const [collapsed, setCollapsed] = useState(true)\n    const classes = useStyles()\n    const elementRef = useRef(null)\n    const componentHeight = useRef(0)\n    const { pathname } = useLocation()\n    const { name, icon, iconText, badge } = item\n\n    const handleClick = () => {\n        componentHeight.current = 0\n        calcaulateHeight(elementRef.current)\n        setCollapsed(!collapsed)\n    }\n\n    const calcaulateHeight = useCallback((node) => {\n        if (node.name !== 'child') {\n            for (let child of node.children) {\n                calcaulateHeight(child)\n            }\n        }\n\n        if (node.name === 'child') componentHeight.current += node.scrollHeight\n        else componentHeight.current += 44 //here 44 is node height\n        return\n    }, [])\n\n    useEffect(() => {\n        if (!elementRef) return\n\n        calcaulateHeight(elementRef.current)\n\n        // OPEN DROPDOWN IF CHILD IS ACTIVE\n        for (let child of elementRef.current.children) {\n            if (child.getAttribute('href') === pathname) {\n                setCollapsed(false)\n            }\n        }\n    }, [pathname, calcaulateHeight])\n\n    return (\n        <div>\n            <TouchRipple\n                className={clsx({\n                    'flex justify-between h-44 border-radius-4 mb-2 w-full pr-4 has-submenu compactNavItem whitespace-pre overflow-hidden': true,\n                    [classes.navItem]: true,\n                    [classes.compactNavItem]: mode === 'compact',\n                    open: !collapsed,\n                })}\n                onClick={handleClick}\n            >\n                <div className=\"flex items-center\">\n                    {icon && (\n                        <Icon className=\"align-middle text-18 w-36 px-4\">\n                            {icon}\n                        </Icon>\n                    )}\n                    {iconText && (\n                        <div\n                            className={clsx(\n                                'w-4 h-4 rounded bg-white ml-5 mr-2',\n                                classes.bulletIcon\n                            )}\n                        ></div>\n                    )}\n                    <span\n                        className={clsx(\n                            'align-middle sidenavHoverShow',\n                            classes.itemText\n                        )}\n                    >\n                        {name}\n                    </span>\n                </div>\n                {badge && (\n                    <div\n                        className={clsx(\n                            `rounded bg-${item.badge.color} px-1 py-1px`,\n                            'sidenavHoverShow',\n                            classes.itemIcon\n                        )}\n                    >\n                        {badge.value}\n                    </div>\n                )}\n                <div\n                    className={clsx({\n                        'item-arrow sidenavHoverShow': false,\n                        [classes.itemIcon]: false,\n                        [classes.collapseIcon]: collapsed,\n                        [classes.expandIcon]: !collapsed,\n                    })}\n                >\n                    <Icon fontSize=\"small\" className=\"align-middle\">\n                        chevron_right\n                    </Icon>\n                </div>\n            </TouchRipple>\n\n            <div\n                ref={elementRef}\n                className={clsx(classes['expansion-panel'], 'submenu')}\n                style={\n                    collapsed\n                        ? { maxHeight: '0px' }\n                        : { maxHeight: componentHeight.current + 'px' }\n                }\n            >\n                {children}\n            </div>\n        </div>\n    )\n}\n\nexport default MatxVerticalNavExpansionPanel\n"]},"metadata":{},"sourceType":"module"}