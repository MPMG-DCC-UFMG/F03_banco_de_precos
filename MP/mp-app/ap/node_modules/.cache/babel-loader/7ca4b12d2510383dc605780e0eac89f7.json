{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Slide = require('@material-ui/core/Slide');\n\nvar _Slide2 = _interopRequireDefault(_Slide);\n\nvar _SnackbarContext = require('./SnackbarContext');\n\nvar _SnackbarContext2 = _interopRequireDefault(_SnackbarContext);\n\nvar _constants = require('./utils/constants');\n\nvar _SnackbarItem = require('./SnackbarItem');\n\nvar _SnackbarItem2 = _interopRequireDefault(_SnackbarItem);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar SnackbarProvider = function (_Component) {\n  _inherits(SnackbarProvider, _Component);\n\n  function SnackbarProvider(props) {\n    _classCallCheck(this, SnackbarProvider);\n\n    var _this = _possibleConstructorReturn(this, (SnackbarProvider.__proto__ || Object.getPrototypeOf(SnackbarProvider)).call(this, props));\n\n    _this.queue = [];\n\n    _this.handleEnqueueSnackbar = function (message) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var key = _ref.key,\n          preventDuplicate = _ref.preventDuplicate,\n          options = _objectWithoutProperties(_ref, ['key', 'preventDuplicate']);\n\n      if (preventDuplicate || _this.props.preventDuplicate) {\n        var inQueue = _this.queue.findIndex(function (item) {\n          return item.message === message;\n        }) > -1;\n        var inView = _this.state.snacks.findIndex(function (item) {\n          return item.message === message;\n        }) > -1;\n\n        if (inQueue || inView) {\n          return null;\n        }\n      }\n\n      var id = key || new Date().getTime() + Math.random();\n\n      var snack = _extends({\n        key: id,\n        message: message\n      }, options, {\n        open: true\n      });\n\n      if (options.persist) {\n        snack.autoHideDuration = undefined;\n      }\n\n      _this.queue.push(snack);\n\n      _this.handleDisplaySnack();\n\n      return id;\n    };\n\n    _this.handleDisplaySnack = function () {\n      var maxSnack = _this.props.maxSnack;\n      var snacks = _this.state.snacks;\n\n      if (snacks.length >= maxSnack) {\n        return _this.handleDismissOldest();\n      }\n\n      return _this.processQueue();\n    };\n\n    _this.processQueue = function () {\n      if (_this.queue.length > 0) {\n        var newOne = _this.queue.shift();\n\n        _this.setState(function (_ref2) {\n          var snacks = _ref2.snacks;\n          return {\n            snacks: [].concat(_toConsumableArray(snacks), [newOne])\n          };\n        });\n      }\n    };\n\n    _this.handleDismissOldest = function () {\n      var popped = false;\n      var ignore = false;\n\n      var persistentCount = _this.state.snacks.reduce(function (acc, current) {\n        return acc + (current.open && current.persist ? 1 : 0);\n      }, 0);\n\n      if (persistentCount === _this.props.maxSnack) {\n        (0, _warning2.default)(_constants.MESSAGES.NO_PERSIST_ALL);\n        ignore = true;\n      }\n\n      _this.setState(function (_ref3) {\n        var snacks = _ref3.snacks;\n        return {\n          snacks: snacks.filter(function (item) {\n            return item.open === true;\n          }).map(function (item) {\n            if (!popped && (!item.persist || ignore)) {\n              popped = true;\n              if (item.onClose) item.onClose(null, 'maxsnack', item.key);\n              if (_this.props.onClose) _this.props.onClose(null, 'maxsnack', item.key);\n              return _extends({}, item, {\n                open: false\n              });\n            }\n\n            return _extends({}, item);\n          })\n        };\n      });\n    };\n\n    _this.handleCloseSnack = function (event, reason, key) {\n      _this.setState(function (_ref4) {\n        var snacks = _ref4.snacks;\n        return {\n          snacks: snacks.map(function (item) {\n            return !key || item.key === key ? _extends({}, item, {\n              open: false\n            }) : _extends({}, item);\n          })\n        };\n      });\n\n      if (_this.props.onClose) _this.props.onClose(event, reason, key);\n    };\n\n    _this.handleDismissSnack = function (key) {\n      _this.handleCloseSnack(null, null, key);\n    };\n\n    _this.handleExitedSnack = function (event, key) {\n      var enterDelay = _constants.TRANSITION_DELAY + _constants.TRANSITION_DOWN_DURATION + 40;\n\n      _this.setState(function (_ref5) {\n        var snacks = _ref5.snacks;\n        return {\n          snacks: snacks.filter(function (item) {\n            return item.key !== key;\n          })\n        };\n      }, function () {\n        return setTimeout(_this.handleDisplaySnack, enterDelay);\n      });\n\n      if (_this.props.onExited) _this.props.onExited(event, key);\n    };\n\n    _this.handleSetHeight = function (key, height) {\n      _this.setState(function (_ref6) {\n        var snacks = _ref6.snacks;\n        return {\n          snacks: snacks.map(function (item) {\n            return item.key === key ? _extends({}, item, {\n              height: height\n            }) : _extends({}, item);\n          })\n        };\n      });\n    };\n\n    _this.state = {\n      snacks: [],\n      contextValue: {\n        handleEnqueueSnackbar: _this.handleEnqueueSnackbar,\n        handleCloseSnackbar: _this.handleDismissSnack\n      }\n    };\n    return _this;\n  }\n\n  _createClass(SnackbarProvider, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          maxSnack = _props.maxSnack,\n          dense = _props.dense,\n          props = _objectWithoutProperties(_props, ['children', 'maxSnack', 'dense']);\n\n      var _state = this.state,\n          contextValue = _state.contextValue,\n          snacks = _state.snacks;\n      return _react2.default.createElement(_SnackbarContext2.default.Provider, {\n        value: contextValue\n      }, children, snacks.map(function (snack, index) {\n        return _react2.default.createElement(_SnackbarItem2.default, _extends({}, props, {\n          key: snack.key,\n          snack: snack,\n          offset: _this2.offsets[index],\n          iconVariant: Object.assign(_constants.iconVariant, _this2.props.iconVariant),\n          onClose: _this2.handleCloseSnack,\n          onExited: _this2.handleExitedSnack,\n          onSetHeight: _this2.handleSetHeight\n        }));\n      }));\n    }\n  }, {\n    key: 'offsets',\n    get: function get() {\n      var _this3 = this;\n\n      var snacks = this.state.snacks;\n      return snacks.map(function (item, i) {\n        var index = i;\n\n        var _ref7 = _this3.props.dense ? {\n          view: 0,\n          snackbar: 4\n        } : {\n          view: 20,\n          snackbar: 12\n        },\n            viewOffset = _ref7.view,\n            snackbarOffset = _ref7.snackbar;\n\n        var offset = viewOffset;\n\n        while (snacks[index - 1]) {\n          var snackHeight = snacks[index - 1].height || 48;\n          offset += snackHeight + snackbarOffset;\n          index -= 1;\n        }\n\n        return offset;\n      });\n    }\n    /**\n     * Adds a new snackbar to the queue to be presented.\n     * @param {string} message - text of the notification\n     * @param {object} options - additional options for the snackbar we want to enqueue.\n     * We can pass Material-ui Snackbar props for individual customisation.\n     * @param {string} options.key\n     * @param {string} options.variant - type of the snackbar. default value is 'default'.\n     * can be: (default, success, error, warning, info)\n     * @param {bool} options.persist\n     * @param {bool} options.preventDuplicate\n     * @returns generated or user defined key referencing the new snackbar or null\n     */\n\n    /**\n     * Display snack if there's space for it. Otherwise, immediately begin dismissing the\n     * oldest message to start showing the new one.\n     */\n\n    /**\n     * Display items (notifications) in the queue if there's space for them.\n     */\n\n    /**\n     * Hide oldest snackbar on the screen because there exists a new one which we have to display.\n     * (ignoring the one with 'persist' flag. i.e. explicitly told by user not to get dismissed).\n     */\n\n    /**\n     * Hide a snackbar after its timeout.\n     * @param {object} event - The event source of the callback\n     * @param {string} reason - can be timeout or clickaway\n     * @param {number} key - id of the snackbar we want to hide\n     */\n\n    /**\n     * Close snackbar with the given key\n     * @param {number} key - id of the snackbar we want to hide\n     */\n\n    /**\n     * When we set open attribute of a snackbar to false (i.e. after we hide a snackbar),\n     * it leaves the screen and immediately after leaving animation is done, this method\n     * gets called. We remove the hidden snackbar from state and then display notifications\n     * waiting in the queue (if any).\n     * @param {number} key - id of the snackbar we want to remove\n     * @param {object} event - The event source of the callback\n     */\n\n    /**\n     * Sets height for a given snackbar\n     * @param {number} height - height of snackbar after it's been rendered\n     * @param {number} key - id of the snackbar we want to remove\n     */\n\n  }]);\n\n  return SnackbarProvider;\n}(_react.Component);\n\nSnackbarProvider.propTypes = {\n  /**\n   * Most of the time, this is your App. every component from this point onward\n   * will be able to show snackbars.\n   */\n  children: _propTypes2.default.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: _propTypes2.default.object,\n\n  /**\n   * Maximum snackbars that can be stacked on top of one another.\n   */\n  maxSnack: _propTypes2.default.number,\n\n  /**\n   * Denser margins for snackbars. Recommended to be used on mobile devices\n   */\n  dense: _propTypes2.default.bool,\n\n  /**\n   * Ignores displaying multiple snackbars with the same `message`\n   */\n  preventDuplicate: _propTypes2.default.bool,\n\n  /**\n   * Hides iconVariant if set to `true`.\n   */\n  hideIconVariant: _propTypes2.default.bool,\n\n  /**\n   * Little icon that is displayed at left corner of a snackbar.\n   */\n  iconVariant: _propTypes2.default.shape({\n    /**\n     * Icon displayed when variant of a snackbar is set to `success`.\n     */\n    success: _propTypes2.default.any,\n\n    /**\n     * Icon displayed when variant of a snackbar is set to `warning`.\n     */\n    warning: _propTypes2.default.any,\n\n    /**\n     * Icon displayed when variant of a snackbar is set to `error`.\n     */\n    error: _propTypes2.default.any,\n\n    /**\n     * Icon displayed when variant of a snackbar is set to `info`.\n     */\n    info: _propTypes2.default.any\n  }),\n\n  /**\n   * Callback to get action(s). actions are mostly buttons displayed in Snackbar.\n   * @param {string|number} key key of a snackbar\n   */\n  action: _propTypes2.default.func,\n\n  /**\n   * The anchor of the `Snackbar`.\n   */\n  anchorOrigin: _propTypes2.default.shape({\n    horizontal: _propTypes2.default.oneOf(['left', 'center', 'right']).isRequired,\n    vertical: _propTypes2.default.oneOf(['top', 'bottom']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   */\n  autoHideDuration: _propTypes2.default.number,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   */\n  disableWindowBlurListener: _propTypes2.default.bool,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {object} event The event source of the callback\n   * @param {string} reason Can be:`\"timeout\"` (`autoHideDuration` expired) or: `\"clickaway\"`\n   *  or: `\"maxsnack\"` (snackbar is closed because `maxSnack` has reached.)\n   * @param {string|number} key key of a Snackbar\n   */\n  onClose: _propTypes2.default.func,\n\n  /**\n   * Callback fired before the transition is entering.\n   */\n  onEnter: _propTypes2.default.func,\n\n  /**\n   * Callback fired when the transition has entered.\n   */\n  onEntered: _propTypes2.default.func,\n\n  /**\n   * Callback fired when the transition is entering.\n   */\n  onEntering: _propTypes2.default.func,\n\n  /**\n   * Callback fired before the transition is exiting.\n   */\n  onExit: _propTypes2.default.func,\n\n  /**\n   * Callback fired when the transition has exited.\n   */\n  onExited: _propTypes2.default.func,\n\n  /**\n   * Callback fired when the transition is exiting.\n   */\n  onExiting: _propTypes2.default.func,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` property isn't specified, it does nothing.\n   * If `autoHideDuration` property is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: _propTypes2.default.number,\n\n  /**\n   * The component used for the transition.\n   */\n  TransitionComponent: _propTypes2.default.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.shape({\n    enter: _propTypes2.default.number,\n    exit: _propTypes2.default.number\n  })])\n};\nSnackbarProvider.defaultProps = {\n  maxSnack: 3,\n  dense: false,\n  preventDuplicate: false,\n  hideIconVariant: false,\n  iconVariant: {},\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  autoHideDuration: 5000,\n  TransitionComponent: _Slide2.default\n};\nexports.default = SnackbarProvider;","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/node_modules/notistack/build/SnackbarProvider.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_Slide","_Slide2","_SnackbarContext","_SnackbarContext2","_constants","_SnackbarItem","_SnackbarItem2","_warning","_warning2","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","SnackbarProvider","_Component","_this","getPrototypeOf","queue","handleEnqueueSnackbar","message","_ref","undefined","preventDuplicate","options","inQueue","findIndex","item","inView","state","snacks","id","Date","getTime","Math","random","snack","open","persist","autoHideDuration","push","handleDisplaySnack","maxSnack","handleDismissOldest","processQueue","newOne","shift","setState","_ref2","concat","popped","ignore","persistentCount","reduce","acc","current","MESSAGES","NO_PERSIST_ALL","_ref3","filter","map","onClose","handleCloseSnack","event","reason","_ref4","handleDismissSnack","handleExitedSnack","enterDelay","TRANSITION_DELAY","TRANSITION_DOWN_DURATION","_ref5","setTimeout","onExited","handleSetHeight","height","_ref6","contextValue","handleCloseSnackbar","render","_this2","_props","children","dense","_state","createElement","Provider","index","offset","offsets","iconVariant","onSetHeight","get","_this3","_ref7","view","snackbar","viewOffset","snackbarOffset","snackHeight","Component","propTypes","node","isRequired","classes","object","number","bool","hideIconVariant","shape","success","any","warning","error","info","action","func","anchorOrigin","horizontal","oneOf","vertical","disableWindowBlurListener","onEnter","onEntered","onEntering","onExit","onExiting","resumeHideDuration","TransitionComponent","elementType","transitionDuration","oneOfType","enter","exit","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Slide = require('@material-ui/core/Slide');\n\nvar _Slide2 = _interopRequireDefault(_Slide);\n\nvar _SnackbarContext = require('./SnackbarContext');\n\nvar _SnackbarContext2 = _interopRequireDefault(_SnackbarContext);\n\nvar _constants = require('./utils/constants');\n\nvar _SnackbarItem = require('./SnackbarItem');\n\nvar _SnackbarItem2 = _interopRequireDefault(_SnackbarItem);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SnackbarProvider = function (_Component) {\n    _inherits(SnackbarProvider, _Component);\n\n    function SnackbarProvider(props) {\n        _classCallCheck(this, SnackbarProvider);\n\n        var _this = _possibleConstructorReturn(this, (SnackbarProvider.__proto__ || Object.getPrototypeOf(SnackbarProvider)).call(this, props));\n\n        _this.queue = [];\n\n        _this.handleEnqueueSnackbar = function (message) {\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var key = _ref.key,\n                preventDuplicate = _ref.preventDuplicate,\n                options = _objectWithoutProperties(_ref, ['key', 'preventDuplicate']);\n\n            if (preventDuplicate || _this.props.preventDuplicate) {\n                var inQueue = _this.queue.findIndex(function (item) {\n                    return item.message === message;\n                }) > -1;\n                var inView = _this.state.snacks.findIndex(function (item) {\n                    return item.message === message;\n                }) > -1;\n                if (inQueue || inView) {\n                    return null;\n                }\n            }\n\n            var id = key || new Date().getTime() + Math.random();\n            var snack = _extends({\n                key: id,\n                message: message\n            }, options, {\n                open: true\n            });\n\n            if (options.persist) {\n                snack.autoHideDuration = undefined;\n            }\n\n            _this.queue.push(snack);\n            _this.handleDisplaySnack();\n\n            return id;\n        };\n\n        _this.handleDisplaySnack = function () {\n            var maxSnack = _this.props.maxSnack;\n            var snacks = _this.state.snacks;\n\n            if (snacks.length >= maxSnack) {\n                return _this.handleDismissOldest();\n            }\n            return _this.processQueue();\n        };\n\n        _this.processQueue = function () {\n            if (_this.queue.length > 0) {\n                var newOne = _this.queue.shift();\n                _this.setState(function (_ref2) {\n                    var snacks = _ref2.snacks;\n                    return {\n                        snacks: [].concat(_toConsumableArray(snacks), [newOne])\n                    };\n                });\n            }\n        };\n\n        _this.handleDismissOldest = function () {\n            var popped = false;\n            var ignore = false;\n\n            var persistentCount = _this.state.snacks.reduce(function (acc, current) {\n                return acc + (current.open && current.persist ? 1 : 0);\n            }, 0);\n\n            if (persistentCount === _this.props.maxSnack) {\n                (0, _warning2.default)(_constants.MESSAGES.NO_PERSIST_ALL);\n                ignore = true;\n            }\n\n            _this.setState(function (_ref3) {\n                var snacks = _ref3.snacks;\n                return {\n                    snacks: snacks.filter(function (item) {\n                        return item.open === true;\n                    }).map(function (item) {\n                        if (!popped && (!item.persist || ignore)) {\n                            popped = true;\n                            if (item.onClose) item.onClose(null, 'maxsnack', item.key);\n                            if (_this.props.onClose) _this.props.onClose(null, 'maxsnack', item.key);\n\n                            return _extends({}, item, {\n                                open: false\n                            });\n                        }\n\n                        return _extends({}, item);\n                    })\n                };\n            });\n        };\n\n        _this.handleCloseSnack = function (event, reason, key) {\n            _this.setState(function (_ref4) {\n                var snacks = _ref4.snacks;\n                return {\n                    snacks: snacks.map(function (item) {\n                        return !key || item.key === key ? _extends({}, item, { open: false }) : _extends({}, item);\n                    })\n                };\n            });\n\n            if (_this.props.onClose) _this.props.onClose(event, reason, key);\n        };\n\n        _this.handleDismissSnack = function (key) {\n            _this.handleCloseSnack(null, null, key);\n        };\n\n        _this.handleExitedSnack = function (event, key) {\n            var enterDelay = _constants.TRANSITION_DELAY + _constants.TRANSITION_DOWN_DURATION + 40;\n            _this.setState(function (_ref5) {\n                var snacks = _ref5.snacks;\n                return {\n                    snacks: snacks.filter(function (item) {\n                        return item.key !== key;\n                    })\n                };\n            }, function () {\n                return setTimeout(_this.handleDisplaySnack, enterDelay);\n            });\n\n            if (_this.props.onExited) _this.props.onExited(event, key);\n        };\n\n        _this.handleSetHeight = function (key, height) {\n            _this.setState(function (_ref6) {\n                var snacks = _ref6.snacks;\n                return {\n                    snacks: snacks.map(function (item) {\n                        return item.key === key ? _extends({}, item, { height: height }) : _extends({}, item);\n                    })\n                };\n            });\n        };\n\n        _this.state = {\n            snacks: [],\n            contextValue: {\n                handleEnqueueSnackbar: _this.handleEnqueueSnackbar,\n                handleCloseSnackbar: _this.handleDismissSnack\n            }\n        };\n        return _this;\n    }\n\n    _createClass(SnackbarProvider, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                children = _props.children,\n                maxSnack = _props.maxSnack,\n                dense = _props.dense,\n                props = _objectWithoutProperties(_props, ['children', 'maxSnack', 'dense']);\n\n            var _state = this.state,\n                contextValue = _state.contextValue,\n                snacks = _state.snacks;\n\n\n            return _react2.default.createElement(\n                _SnackbarContext2.default.Provider,\n                { value: contextValue },\n                children,\n                snacks.map(function (snack, index) {\n                    return _react2.default.createElement(_SnackbarItem2.default, _extends({}, props, {\n                        key: snack.key,\n                        snack: snack,\n                        offset: _this2.offsets[index],\n                        iconVariant: Object.assign(_constants.iconVariant, _this2.props.iconVariant),\n                        onClose: _this2.handleCloseSnack,\n                        onExited: _this2.handleExitedSnack,\n                        onSetHeight: _this2.handleSetHeight\n                    }));\n                })\n            );\n        }\n    }, {\n        key: 'offsets',\n        get: function get() {\n            var _this3 = this;\n\n            var snacks = this.state.snacks;\n\n            return snacks.map(function (item, i) {\n                var index = i;\n\n                var _ref7 = _this3.props.dense ? { view: 0, snackbar: 4 } : { view: 20, snackbar: 12 },\n                    viewOffset = _ref7.view,\n                    snackbarOffset = _ref7.snackbar;\n\n                var offset = viewOffset;\n                while (snacks[index - 1]) {\n                    var snackHeight = snacks[index - 1].height || 48;\n                    offset += snackHeight + snackbarOffset;\n                    index -= 1;\n                }\n                return offset;\n            });\n        }\n\n        /**\n         * Adds a new snackbar to the queue to be presented.\n         * @param {string} message - text of the notification\n         * @param {object} options - additional options for the snackbar we want to enqueue.\n         * We can pass Material-ui Snackbar props for individual customisation.\n         * @param {string} options.key\n         * @param {string} options.variant - type of the snackbar. default value is 'default'.\n         * can be: (default, success, error, warning, info)\n         * @param {bool} options.persist\n         * @param {bool} options.preventDuplicate\n         * @returns generated or user defined key referencing the new snackbar or null\n         */\n\n\n        /**\n         * Display snack if there's space for it. Otherwise, immediately begin dismissing the\n         * oldest message to start showing the new one.\n         */\n\n\n        /**\n         * Display items (notifications) in the queue if there's space for them.\n         */\n\n\n        /**\n         * Hide oldest snackbar on the screen because there exists a new one which we have to display.\n         * (ignoring the one with 'persist' flag. i.e. explicitly told by user not to get dismissed).\n         */\n\n\n        /**\n         * Hide a snackbar after its timeout.\n         * @param {object} event - The event source of the callback\n         * @param {string} reason - can be timeout or clickaway\n         * @param {number} key - id of the snackbar we want to hide\n         */\n\n\n        /**\n         * Close snackbar with the given key\n         * @param {number} key - id of the snackbar we want to hide\n         */\n\n\n        /**\n         * When we set open attribute of a snackbar to false (i.e. after we hide a snackbar),\n         * it leaves the screen and immediately after leaving animation is done, this method\n         * gets called. We remove the hidden snackbar from state and then display notifications\n         * waiting in the queue (if any).\n         * @param {number} key - id of the snackbar we want to remove\n         * @param {object} event - The event source of the callback\n         */\n\n\n        /**\n         * Sets height for a given snackbar\n         * @param {number} height - height of snackbar after it's been rendered\n         * @param {number} key - id of the snackbar we want to remove\n         */\n\n    }]);\n\n    return SnackbarProvider;\n}(_react.Component);\n\nSnackbarProvider.propTypes = {\n    /**\n     * Most of the time, this is your App. every component from this point onward\n     * will be able to show snackbars.\n     */\n    children: _propTypes2.default.node.isRequired,\n    /**\n     * Override or extend the styles applied to the component.\n     */\n    classes: _propTypes2.default.object,\n    /**\n     * Maximum snackbars that can be stacked on top of one another.\n     */\n    maxSnack: _propTypes2.default.number,\n    /**\n     * Denser margins for snackbars. Recommended to be used on mobile devices\n     */\n    dense: _propTypes2.default.bool,\n    /**\n     * Ignores displaying multiple snackbars with the same `message`\n     */\n    preventDuplicate: _propTypes2.default.bool,\n    /**\n     * Hides iconVariant if set to `true`.\n     */\n    hideIconVariant: _propTypes2.default.bool,\n    /**\n     * Little icon that is displayed at left corner of a snackbar.\n     */\n    iconVariant: _propTypes2.default.shape({\n        /**\n         * Icon displayed when variant of a snackbar is set to `success`.\n         */\n        success: _propTypes2.default.any,\n        /**\n         * Icon displayed when variant of a snackbar is set to `warning`.\n         */\n        warning: _propTypes2.default.any,\n        /**\n         * Icon displayed when variant of a snackbar is set to `error`.\n         */\n        error: _propTypes2.default.any,\n        /**\n         * Icon displayed when variant of a snackbar is set to `info`.\n         */\n        info: _propTypes2.default.any\n    }),\n    /**\n     * Callback to get action(s). actions are mostly buttons displayed in Snackbar.\n     * @param {string|number} key key of a snackbar\n     */\n    action: _propTypes2.default.func,\n    /**\n     * The anchor of the `Snackbar`.\n     */\n    anchorOrigin: _propTypes2.default.shape({\n        horizontal: _propTypes2.default.oneOf(['left', 'center', 'right']).isRequired,\n        vertical: _propTypes2.default.oneOf(['top', 'bottom']).isRequired\n    }),\n    /**\n     * The number of milliseconds to wait before automatically calling the\n     * `onClose` function. `onClose` should then set the state of the `open`\n     * prop to hide the Snackbar. This behavior is disabled by default with\n     * the `null` value.\n     */\n    autoHideDuration: _propTypes2.default.number,\n    /**\n     * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n     */\n    disableWindowBlurListener: _propTypes2.default.bool,\n    /**\n     * Callback fired when the component requests to be closed.\n     * The `reason` parameter can optionally be used to control the response to `onClose`,\n     * for example ignoring `clickaway`.\n     *\n     * @param {object} event The event source of the callback\n     * @param {string} reason Can be:`\"timeout\"` (`autoHideDuration` expired) or: `\"clickaway\"`\n     *  or: `\"maxsnack\"` (snackbar is closed because `maxSnack` has reached.)\n     * @param {string|number} key key of a Snackbar\n     */\n    onClose: _propTypes2.default.func,\n    /**\n     * Callback fired before the transition is entering.\n     */\n    onEnter: _propTypes2.default.func,\n    /**\n     * Callback fired when the transition has entered.\n     */\n    onEntered: _propTypes2.default.func,\n    /**\n     * Callback fired when the transition is entering.\n     */\n    onEntering: _propTypes2.default.func,\n    /**\n     * Callback fired before the transition is exiting.\n     */\n    onExit: _propTypes2.default.func,\n    /**\n     * Callback fired when the transition has exited.\n     */\n    onExited: _propTypes2.default.func,\n    /**\n     * Callback fired when the transition is exiting.\n     */\n    onExiting: _propTypes2.default.func,\n    /**\n     * The number of milliseconds to wait before dismissing after user interaction.\n     * If `autoHideDuration` property isn't specified, it does nothing.\n     * If `autoHideDuration` property is specified but `resumeHideDuration` isn't,\n     * we default to `autoHideDuration / 2` ms.\n     */\n    resumeHideDuration: _propTypes2.default.number,\n    /**\n     * The component used for the transition.\n     */\n    TransitionComponent: _propTypes2.default.elementType,\n    /**\n     * The duration for the transition, in milliseconds.\n     * You may specify a single timeout for all transitions, or individually with an object.\n     */\n    transitionDuration: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.shape({ enter: _propTypes2.default.number, exit: _propTypes2.default.number })])\n};\n\nSnackbarProvider.defaultProps = {\n    maxSnack: 3,\n    dense: false,\n    preventDuplicate: false,\n    hideIconVariant: false,\n    iconVariant: {},\n    anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n    },\n    autoHideDuration: 5000,\n    TransitionComponent: _Slide2.default\n};\n\nexports.default = SnackbarProvider;"]},"metadata":{},"sourceType":"script"}