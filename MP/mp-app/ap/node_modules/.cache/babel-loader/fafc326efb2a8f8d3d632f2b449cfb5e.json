{"ast":null,"code":"var fixShadow = require(\"./helper/fixShadow\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function Style(opts) {\n  this.extendFrom(opts, false);\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  } // Fix NaN when rect is Infinity\n\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {number}\n   */\n  fillOpacity: null,\n\n  /**\n   * @type {number}\n   */\n  strokeOpacity: null,\n\n  /**\n   * `true` is not supported.\n   * `false`/`null`/`undefined` are the same.\n   * `false` is used to remove lineDash in some\n   * case that `null`/`undefined` can not be set.\n   * (e.g., emphasis.lineStyle in echarts)\n   * @type {Array.<number>|boolean}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image.\n   * The origin of the rotation can be specified by `textOrigin`.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation.\n   * Useful in the case like label rotation of circular symbol.\n   * Only available in Path and Image element, where the text is called\n   * as `RectText` and the element is called as \"host element\".\n   * The value can be:\n   * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n   * base on the left-top corner of the rect of its host element.\n   * + If specified as a string `center`, it is the center of the rect of\n   * its host element.\n   * + By default, this origin is the `textPosition`.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function bind(ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n    // Only apply cache if the last time cachced by this function.\n\n    var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy.STYLE_BIND;\n    ctx.__attrCachedBy = ContextCachedBy.STYLE_BIND;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n      }\n    }\n\n    if (notCheckCache || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (notCheckCache || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (notCheckCache || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (notCheckCache || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function hasFill() {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function hasStroke() {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function extendFrom(otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function set(obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function clone() {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function getGradient(ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;","map":{"version":3,"sources":["/home/johnatan/MP/mp-app/ap/node_modules/zrender/lib/graphic/Style.js"],"names":["fixShadow","require","_constant","ContextCachedBy","STYLE_COMMON_PROPS","Style","opts","extendFrom","createLinearGradient","ctx","obj","rect","x","x2","y","y2","global","width","height","isNaN","canvasGradient","createRadialGradient","min","Math","r","prototype","constructor","fill","stroke","opacity","fillOpacity","strokeOpacity","lineDash","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","text","font","textFont","fontStyle","fontWeight","fontSize","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textAlign","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","bind","el","prevEl","style","prevStyle","notCheckCache","__attrCachedBy","STYLE_BIND","i","length","prop","styleName","fillStyle","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","overwrite","name","hasOwnProperty","set","value","clone","newStyle","getGradient","method","type","colorStops","addColorStop","offset","color","styleProto","_default","module","exports"],"mappings":"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","sourcesContent":["var fixShadow = require(\"./helper/fixShadow\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts) {\n  this.extendFrom(opts, false);\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  } // Fix NaN when rect is Infinity\n\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {number}\n   */\n  fillOpacity: null,\n\n  /**\n   * @type {number}\n   */\n  strokeOpacity: null,\n\n  /**\n   * `true` is not supported.\n   * `false`/`null`/`undefined` are the same.\n   * `false` is used to remove lineDash in some\n   * case that `null`/`undefined` can not be set.\n   * (e.g., emphasis.lineStyle in echarts)\n   * @type {Array.<number>|boolean}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image.\n   * The origin of the rotation can be specified by `textOrigin`.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation.\n   * Useful in the case like label rotation of circular symbol.\n   * Only available in Path and Image element, where the text is called\n   * as `RectText` and the element is called as \"host element\".\n   * The value can be:\n   * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n   * base on the left-top corner of the rect of its host element.\n   * + If specified as a string `center`, it is the center of the rect of\n   * its host element.\n   * + By default, this origin is the `textPosition`.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function (ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n    // Only apply cache if the last time cachced by this function.\n\n    var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy.STYLE_BIND;\n    ctx.__attrCachedBy = ContextCachedBy.STYLE_BIND;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n      }\n    }\n\n    if (notCheckCache || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (notCheckCache || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (notCheckCache || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (notCheckCache || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function () {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function () {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function (otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function (obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function () {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function (ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}